# ANSI color codes
YELLOW='\033[0;33m'
RED='\033[1;31m'
NC='\033[0m' # No Color
BRIGHT_BLUE='\033[1;34m'
GREEN='\033[1;32m'

# RUNNING PRETTIER CHECKS
echo "\n${BRIGHT_BLUE}[1/6] Running prettier checks on frontend...${NC}\n"
.git/hooks/tests/prettier.sh

if [[ $? -ne 0 ]]; then
    # On failure (prettier checks failed)
    echo "\n\b${RED}Prettier checks failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Frontend formatting tests passed!${NC}\n"
fi

echo "${BRIGHT_BLUE}[2/6] Running lint tests on frontend...${NC}\n"
.git/hooks/tests/lint_check_frontend.sh

if [[ $? -ne 1 ]]; then
    # On failure (lint checks failed)
    echo "\n\b${RED}Lint checks failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Frontend lint tests passed!${NC}\n"
fi

echo "${BRIGHT_BLUE}[3/6] Running unit tests on frontend...${NC}\n"
.git/hooks/tests/unit_tests_frontend.sh

if [[ $? -ne 0 ]]; then
    # On failure (unit tests failed)
    echo "\n\b${RED}Unit tests failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Frontend unit tests passed!${NC}\n"
fi

echo ${BRIGHT_BLUE}"[4/6] Running formatting checks on backend...${NC}"
.git/hooks/tests/formatting_check_backend.sh

if [[ $? -ne 0 ]]; then
    # On failure (formatting checks failed)
    echo "\n\b${RED}Formatting checks failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Backend formatting tests passed!${NC}\n"
fi

echo "${BRIGHT_BLUE}[5/6] Running lint check on backend...${NC}"
.git/hooks/tests/lint_check_backend.sh

if [[ $? -ne 0 ]]; then
    # On failure (lint checks failed)
    echo "${RED}Backend lint checks failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Backend lint tests passed!${NC}\n"
fi

echo "${BRIGHT_BLUE}[6/6] Running unit tests on backend...${NC}"
.git/hooks/tests/unit_tests_backend.sh

if [[ $? -ne 0 ]]; then
    # On failure (unit tests failed)
    echo "\n\b${RED}Unit tests failed. Please fix the issue before pushing.${NC}"
    exit 1
else
    echo "\n${GREEN}Backend unit tests passed!${NC}\n"
fi

echo "${GREEN}All tests passed!${NC}"
exit 0